package com.fftime.ffmob.common.status;import android.app.Activity;import android.content.Context;import android.content.pm.PackageInfo;import android.text.TextUtils;import com.fftime.ffmob.SdkSettings;import com.fftime.ffmob.util.Constants;import com.fftime.ffmob.util.StringUtil;import java.util.Collections;import java.util.HashMap;import java.util.Map;public class APPStatus {    private Context context;    public APPStatus(Context context) {        super();        this.context = context;    }    public String getAppName() {        try {            PackageInfo pkgInfo = context.getPackageManager().getPackageInfo(context.getPackageName(), 0);            int labelRes = pkgInfo.applicationInfo.labelRes;            return context.getResources().getString(labelRes);        } catch (Exception ex) {        }        return StringUtil.EMPTY;    }    public String getAppId() {        String appId = SdkSettings.getInstance().getAppId();        if (!TextUtils.isEmpty(appId)) {            return appId;        }        return context.getPackageName();    }    public String getAppVersion() {        String pkgName = context.getPackageName();        if (StringUtil.isEmpty(pkgName)) return StringUtil.EMPTY;        try {            return context.getPackageManager().getPackageInfo(pkgName, 0).versionName;        } catch (Exception ex) {        }        return StringUtil.EMPTY;    }    public String getAppExtParam(String key) {        Map<String, String> ext = getAppExtParams();        if (ext == null) return StringUtil.EMPTY;        if (!ext.containsKey(key)) return null;        return ext.get(key);    }    public void putAppExtParams(String name, String value) {        try {            Activity a = StatusManager.currentActivity();            if (a != null) {                a.getIntent().getSerializableExtra(Constants.INTENT_VAR_REQ_EXT_PARAMS);                HashMap<String, String> ext = (HashMap<String, String>) a.getIntent().getSerializableExtra(Constants.INTENT_VAR_REQ_EXT_PARAMS);                if (ext == null) {                    ext = new HashMap<>();                    a.getIntent().putExtra(Constants.INTENT_VAR_REQ_EXT_PARAMS, ext);                }                ext.put(name, value);            }        } catch (Throwable ex) {        }    }    public Map getAppExtParams() {        try {            Activity a = StatusManager.currentActivity();            if (a != null) {                Map<String, String> ext = (Map<String, String>) a.getIntent().getSerializableExtra(Constants.INTENT_VAR_REQ_EXT_PARAMS);                if (ext == null) return Collections.emptyMap();                return ext;            }        } catch (Throwable ex) {        }        return Collections.emptyMap();    }}